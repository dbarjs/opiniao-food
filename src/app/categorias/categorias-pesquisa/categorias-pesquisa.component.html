<div class="container">

   <div class="ui-g">

      <form autocomplete="off" (ngSubmit)="pesquisar()">

         <div class="ui-g-12">
            <h1>Categorias</h1>
         </div>

         <div class="ui-g-12 ui-fluid">
            <label>Categoria</label>
            <input pInputText type="text" name="descricao" [(ngModel)]="filtro.descricao">
         </div>

         <div class="ui-g-12">
            <button pButton type="submit" label="Pesquisar"></button>
         </div>

      </form>

   </div>

   <div class="ui-g">
      <div class="ui-g-12">
         <p-table [value]="categorias" [paginator]="true" [rows]="filtro.itensPorPagina" [responsive]="true"
            [lazy]="true" [totalRecords]="totalRegistros" (onLazyLoad)="aoMudarPagina($event)" #tabela>

            <ng-template pTemplate="emptymessage">
               <strong>Nenhuma Categoria Encontrada</strong>
            </ng-template>

            <ng-template pTemplate="header">
               <tr>
                  <th>Id</th>
                  <th>Categoria</th>
                  <!-- <th>Categoria Pai</th> -->
                  <th class="col-acoes-header">Ações</th>
               </tr>
            </ng-template>
            <ng-template pTemplate="body" let-categoria>
               <tr>
                  <td>
                     <span class="ui-column-title">Código</span>
                     {{categoria.id}}
                  </td>
                  <td>
                     <span class="ui-column-title">Categoria</span>
                     {{categoria.descricao}}
                  </td>
                  <!-- <td>
                     <span class="ui-column-title">SubGrupo</span>
                     {{categoria.categoriaPai['descricao']}}
                  </td> -->
                  <td class="col-acoes">
                     <button class="espaco-icones" pButton icon="pi pi-pencil" pTooltip="Editar"
                        [routerLink]="['/categorias', categoria.id]" tooltipPosition="top"></button>
                     <button class="espaco-icones" pButton icon="pi pi-trash" pTooltip="Excluir"
                        (click)="confirmarExclusao(categoria)" tooltipPosition="top"></button>
                  </td>
               </tr>
            </ng-template>
         </p-table>

      </div>

      <div class="ui-g-12">
         <button pButton label="Nova Categoria" routerLink="/categorias/novo"></button>
      </div>

   </div>

</div>
