<div class="container">

   <div class="ui-g">

      <form autocomplete="off" (ngSubmit)="pesquisar()">

         <div class="ui-g-12">
            <h1>Unidades</h1>
         </div>

         <div class="ui-g-12 ui-fluid">
            <label>Unidade</label>
            <input pInputText type="text" name="descricao" [(ngModel)]="filtro.descricao">
         </div>

         <div class="ui-g-12">
            <button pButton type="submit" label="Pesquisar"></button>
         </div>

      </form>

   </div>

   <div class="ui-g">
      <div class="ui-g-12">
         <p-table [value]="unidades" [paginator]="true" [rows]="filtro.itensPorPagina" [responsive]="true" [lazy]="true"
            [totalRecords]="totalRegistros" (onLazyLoad)="aoMudarPagina($event)" #tabela>

            <ng-template pTemplate="emptymessage">
               <strong>Nenhuma Unidade Encontrada</strong>
            </ng-template>

            <ng-template pTemplate="header">
               <tr>
                  <th>Id</th>
                  <th>Abreviação</th>
                  <th>Unidade</th>
                  <th class="col-acoes-header"></th>
               </tr>
            </ng-template>
            <ng-template pTemplate="body" let-unidade>
               <tr>
                  <td>
                     <span class="ui-column-title">Código</span>
                     {{unidade.id}}
                  </td>
                  <td>
                     <span class="ui-column-title">Abreviação</span>
                     {{unidade.abreviacao}}
                  </td>
                  <td>
                     <span class="ui-column-title">Unidade</span>
                     {{unidade.descricao}}
                  </td>
                  <td class="col-acoes">
                     <button class="espaco-icones" pButton icon="pi pi-pencil" pTooltip="Editar"
                        [routerLink]="['/unidades', unidade.id]" tooltipPosition="top"></button>
                     <button class="espaco-icones" pButton icon="pi pi-trash" pTooltip="Excluir"
                        (click)="confirmarExclusao(unidade)" tooltipPosition="top"></button>
                  </td>
               </tr>
            </ng-template>
         </p-table>

      </div>

      <div class="ui-g-12">
         <button pButton label="Nova Unidade" routerLink="/unidades/novo"></button>
      </div>

   </div>

</div>
